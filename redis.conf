# Redis Configuration for Claude Route SSL
# 端口配置
port 6380

# 数据存储目录
dir /home/leon/claude-route-ssl/claude-route-ssl

# RDB持久化配置 - 更频繁的保存策略
save 3600 1      # 1小时内有1次修改就保存
save 300 10      # 5分钟内有10次修改就保存（从100降低到10）
save 60 100      # 1分钟内有100次修改就保存（从10000降低到100）

# AOF持久化配置 - 更强的数据安全性
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# 内存策略 - 不驱逐数据
maxmemory-policy noeviction

# 后台运行
daemonize yes

# 日志配置
logfile /home/leon/claude-route-ssl/claude-route-ssl/logs/redis.log
loglevel notice

# 安全配置 - 只监听本地
bind 127.0.0.1

# 进程文件
pidfile /home/leon/claude-route-ssl/claude-route-ssl/redis_6380.pid